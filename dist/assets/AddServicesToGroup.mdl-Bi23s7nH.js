import{aU as P,h as z,aa as B,aV as M,r as V,a8 as G,c as b,o as _,d as u,w as n,a as l,E as C,G as I,z as T,u as m,a6 as F,B as S,s as A,b as y,e as x,aW as j,aX as E,T as k,aY as q,aZ as H,a_ as R,a$ as W,k as X,$ as Y,m as w,N as Z,F as D,C as N,D as J,t as U,aN as K,H as L,M as O}from"./index-BA4ml571.js";const Q=P("selectedServices",{state:()=>({selectedValues:[],isAllSelected:!1}),actions:{addValue(t){this.selectedValues.push(t)},removeValue(t){this.selectedValues=this.selectedValues.filter(c=>c!==t)},clearValues(){this.selectedValues=[]},SelectAll(t,c){t?(this.selectedValues=c.map(a=>a==null?void 0:a.serviceUuid),this.isAllSelected=!0):(this.selectedValues=[],this.isAllSelected=!1)},setAllSelected(t){this.isAllSelected=t}}}),ee={class:"flex flex-col gap-4 bg-white p-3"},se={class:"flex w-full justify-between items-center"},te={class:"h-60 overflow-auto scrollbar-hide"},le=["checked","onChange"],ae=["checked","onChange"],de={class:"flex justify-end gap-4"},re={__name:"GroupService",props:{search:String,id:String,groupId:String},setup(t){z(),B(),M();const c=t,a=V(""),e=Q(),p=G(()=>e.isAllSelected);function h(o,r){console.log(r),e.SelectAll(o,r)}function f(o,r=[]){e.selectedValues.findIndex(s=>s==o)>-1?(e.removeValue(o),e.setAllSelected(!1)):(e.addValue(o),e.selectedValues.length===r.length&&e.setAllSelected(!0))}return(o,r)=>(_(),b("div",null,[u(j,{id:c.id,search:a.value,auto:!1},{default:n(({pending:i,serviceList:s})=>[l("div",ee,[l("div",se,[r[2]||(r[2]=l("h1",{class:"text-base-clr"},"Allowed Services",-1)),C(l("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>a.value=d),placeholder:"Search and Select Services",class:"p-4 w-[36rem] bg-base-clr3 rounded-md",type:"text"},null,512),[[I,a.value]])]),l("div",te,[u(T,{firstCol:!0,"show-pagination":!1,pending:i,rows:s,headers:{head:["Service ID","Provider","Services","Price"],row:["serviceCode","providerName","serviceName","price"]},cells:{price:d=>m(F)(d)}},{headerFirst:n(({row:d})=>[u(S,null,{default:n(()=>[l("input",{checked:p.value,onChange:v=>h(v.target.checked,s),class:"size-4",type:"checkbox"},null,40,le)]),_:2},1024)]),select:n(({row:d})=>[u(S,null,{default:n(()=>[l("input",{type:"checkbox",checked:m(e).selectedValues.includes(d==null?void 0:d.serviceUuid),onChange:v=>f(d==null?void 0:d.serviceUuid,s),class:"size-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,ae)]),_:2},1024)]),_:2},1032,["pending","rows","cells"])]),l("div",de,[u(S,{onClick:r[1]||(r[1]=A(d=>m(y)(),["prevent"])),class:"border border-base-clr"},{default:n(()=>r[3]||(r[3]=[x(" Cancel ")])),_:1,__:[3]}),u(S,{size:"md",class:"!text-white",type:"primary"},{default:n(()=>r[4]||(r[4]=[x(" Add Service ")])),_:1,__:[4]})])])]),_:1},8,["id","search"])]))}},ce=P("selectedDrug",{state:()=>({selectedValues:[],isAllSelected:!1}),actions:{addValue(t){this.selectedValues.push(t)},removeValue(t){this.selectedValues=this.selectedValues.filter(c=>c!==t)},clearValues(){this.selectedValues=[]},SelectAll(t,c){t?(this.selectedValues=c.map(a=>a==null?void 0:a.drugUuid),this.isAllSelected=!0):(this.selectedValues=[],this.isAllSelected=!1)},setAllSelected(t){this.isAllSelected=t}}}),ne={class:"flex flex-col gap-4 bg-white p-3"},oe={class:"flex w-full justify-between items-center"},ie={class:"h-60 overflow-auto scrollbar-hide"},ue=["checked","onChange"],pe=["checked","onChange"],he={class:"flex justify-end gap-4"},fe={__name:"GroupDrug",props:{id:String,groupId:String},setup(t){const c=z(),a=t,e=ce(),p=G(()=>e.isAllSelected);function h(i,s){e.SelectAll(i,s)}function f(i,s=[]){e.selectedValues.findIndex(v=>v==i)>-1?(e.removeValue(i),e.setAllSelected(!1)):(e.addValue(i),e.selectedValues.length===s.length&&e.setAllSelected(!0))}const o=V("");function r(){if(e.selectedValues.length===0){k(!1,"","Please Select Drugs");return}console.log(e.selectedValues),c.send(()=>q(a.groupId,e.selectedValues),i=>{i.success&&y(),k(i.success,"Members Added To GroupSuccessfully",i.error)})}return(i,s)=>(_(),b("div",null,[u(E,{id:a.id,search:o.value,auto:!1},{default:n(({pending:d,drugs:v})=>[l("div",ne,[l("div",oe,[s[2]||(s[2]=l("h1",{class:"text-base-clr"},"Allowed Drugs",-1)),C(l("input",{"onUpdate:modelValue":s[0]||(s[0]=g=>o.value=g),placeholder:"Search and Select Drugs",class:"p-4 w-[36rem] bg-base-clr3 rounded-md",type:"text"},null,512),[[I,o.value]])]),l("div",ie,[u(T,{"first-col":!0,"show-pagination":!1,pending:d,rows:v,headers:{head:["Code","Drug Name","Price (ETB)","Status","actions"],row:["drugCode","drugName","price","status"]}},{headerFirst:n(({row:g})=>[u(S,null,{default:n(()=>[l("input",{checked:p.value,onChange:$=>h($.target.checked,v),class:"size-4",type:"checkbox"},null,40,ue)]),_:2},1024)]),select:n(({row:g})=>[u(S,null,{default:n(()=>[l("input",{type:"checkbox",checked:m(e).selectedValues.includes(g==null?void 0:g.drugUuid),onChange:$=>f(g==null?void 0:g.drugUuid,v),class:"size-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,pe)]),_:2},1024)]),_:2},1032,["pending","rows"])]),l("div",he,[u(S,{onClick:s[1]||(s[1]=A(g=>m(y)(),["prevent"])),class:"border border-base-clr"},{default:n(()=>s[3]||(s[3]=[x(" Cancel ")])),_:1,__:[3]}),u(S,{pending:m(c).pending.value,onClick:A(r,["prevent"]),size:"md",class:"!text-white",type:"primary"},{default:n(()=>s[4]||(s[4]=[x(" Add Drugs ")])),_:2,__:[4]},1032,["pending"])])])]),_:1},8,["id","search"])]))}},ge={__name:"ContractProvidersDataProvider",props:{auto:{type:Boolean,default:!0},status:{type:String},search:{type:String,default:""}},setup(t){const c=t,a=B(),e=H({cb:()=>{var p,h;return R((h=(p=a.auth)==null?void 0:p.user)==null?void 0:h.payerUuid,W({status:c.status,search:c.search.trim()}))}});return X(()=>c.search,()=>{console.log("hhhh"),e.send()}),(p,h)=>{var f;return Y(p.$slots,"default",{providers:(f=m(e).data.value)==null?void 0:f.content,pending:m(e).pending.value,error:m(e).error.value})}}},ve={class:"flex flex-col gap-10"},me={class:"flex flex-col gap-6 bg-base-clr3 w-full p-6 rounded-lg"},Se={class:"grid grid-cols-2 gap-4"},_e={class:"grid grid-cols-2 border border-base-clr rounded w-full"},be=["onClick"],Ve=["value"],Ae={__name:"AddServicesToGroup.mdl",props:{data:String},setup(t){const c=t,a=V(0),e=f=>{a.value=f},p=[{name:"Services",component:re},{name:"Drugs",component:fe}],h=V("");return(f,o)=>(_(),w(O,null,{default:n(()=>[u(Z,{class:"",size:"lg",title:"New Employee / Family Group",subtitle:"Create a new group for employees or their families."},{default:n(()=>[u(ge,null,{default:n(({providers:r,pending:i})=>[l("div",ve,[l("div",me,[l("div",Se,[l("div",_e,[(_(),b(D,null,N(p,(s,d)=>l("div",{key:d,onClick:v=>e(d),class:J(["px-4 py-3 transition-colors text-center cursor-pointer duration-300",a.value===d?d===0?"bg-base-clr  text-white rounded-l font-medium":"bg-base-clr text-white rounded-r  font-medium":""])},U(s.name),11,be)),64))]),C(l("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>h.value=s),class:"rounded-md bg-white px-4",name:"",id:""},[o[1]||(o[1]=l("option",{disabled:"",selected:"",value:""},"Select Provider",-1)),(_(!0),b(D,null,N(r,s=>(_(),b("option",{key:s.providerName,value:s.providerUuid},U(s.providerName),9,Ve))),128))],512),[[K,h.value]])]),(_(),w(L(p[a.value].component),{groupId:c.data,id:h.value,search:f.search},null,8,["groupId","id","search"]))])])]),_:1})]),_:1})]),_:1}))}};export{Ae as default};
