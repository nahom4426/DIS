import{ae as S,Z as U,r as N,h as C,k as q,m as A,o as T,w as i,d as f,N as P,a as e,s as B,c as M,n as I,t as j,E as d,G as n,aN as F,B as w,e as V,u as R,M as $,T as E}from"./index-BA4ml571.js";const G=new S,H="/payer-provider-contract";function O(c,l){const a={contractUuid:c,...l,status:l.status||"ACTIVE"};return G.addAuthenticationHeader().put(`${H}/edit`,a)}const Z={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},J={class:"form-group"},K={class:"form-group"},L={class:"form-group"},Q={class:"form-group"},W={class:"form-group col-span-2"},X={class:"form-group"},Y={class:"flex justify-end space-x-3 p-2"},h=U({__name:"EditContract.mdl",props:{contractUuid:{type:String,required:!0},contract:{type:Object,required:!0}},emits:["close","updated"],setup(c,{emit:l}){var g,b,y,x,D,k;const a=c,m=l,o=N({providerName:((g=a.contract)==null?void 0:g.providerName)||"",startDate:((b=a.contract)==null?void 0:b.startDate)||"",endDate:((y=a.contract)==null?void 0:y.endDate)||"",contractType:((x=a.contract)==null?void 0:x.contractType)||"",description:((D=a.contract)==null?void 0:D.description)||"",status:((k=a.contract)==null?void 0:k.status)||"ACTIVE"}),u=N(""),p=C();q(()=>a.contract,s=>{s&&(o.value={providerName:s.providerName||"",startDate:s.startDate||"",endDate:s.endDate||"",contractType:s.contractType||"",description:s.description||"",status:s.status||"ACTIVE"})},{deep:!0});function v(){p.pending.value||p.send(()=>O(a.contractUuid,o.value),s=>{s.success?(E(s.success,"Contract Updated Successfully"),m("updated",{...a.contract,...o.value}),m("close")):(u.value=s.error||"Failed to update contract",E(u.value,"Error","error"))})}return(s,t)=>(T(),A($,null,{default:i(()=>[f(P,{title:"Edit Provider Contract"},{bottom:i(()=>[e("div",Y,[f(w,{type:"button",variant:"secondary",onClick:t[6]||(t[6]=r=>m("close"))},{default:i(()=>t[14]||(t[14]=[V("Cancel")])),_:1,__:[14]}),f(w,{type:"submit",pending:R(p).pending.value,onClick:v},{default:i(()=>t[15]||(t[15]=[V("Update Contract")])),_:1,__:[15]},8,["pending"])])]),default:i(()=>[e("form",{onSubmit:B(v,["prevent"]),class:"space-y-4"},[u.value?(T(),M("div",Z,j(u.value),1)):I("",!0),e("div",z,[e("div",J,[t[7]||(t[7]=e("label",{for:"providerName",class:"block text-sm font-medium text-gray-700"},"Provider Name",-1)),d(e("input",{id:"providerName","onUpdate:modelValue":t[0]||(t[0]=r=>o.value.providerName=r),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[n,o.value.providerName]])]),e("div",K,[t[8]||(t[8]=e("label",{for:"contractType",class:"block text-sm font-medium text-gray-700"},"Contract Type",-1)),d(e("input",{id:"contractType","onUpdate:modelValue":t[1]||(t[1]=r=>o.value.contractType=r),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[n,o.value.contractType]])]),e("div",L,[t[9]||(t[9]=e("label",{for:"startDate",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),d(e("input",{id:"startDate","onUpdate:modelValue":t[2]||(t[2]=r=>o.value.startDate=r),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[n,o.value.startDate]])]),e("div",Q,[t[10]||(t[10]=e("label",{for:"endDate",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),d(e("input",{id:"endDate","onUpdate:modelValue":t[3]||(t[3]=r=>o.value.endDate=r),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[n,o.value.endDate]])]),e("div",W,[t[11]||(t[11]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),d(e("textarea",{id:"description","onUpdate:modelValue":t[4]||(t[4]=r=>o.value.description=r),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[n,o.value.description]])]),e("div",X,[t[13]||(t[13]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),d(e("select",{id:"status","onUpdate:modelValue":t[5]||(t[5]=r=>o.value.status=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},t[12]||(t[12]=[e("option",{value:"ACTIVE"},"Active",-1),e("option",{value:"SUSPENDED"},"Suspended",-1)]),512),[[F,o.value.status]])])])],32)]),_:1})]),_:1}))}});export{h as default};
