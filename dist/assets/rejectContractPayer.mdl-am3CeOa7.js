import{h as C,r as i,j as w,c,o as d,d as o,w as r,N as R,a,E,F as k,C as S,t as N,aN as P,Q as U,B as p,s as b,u as M,b as g,e as B,M as V,T as _,be as F}from"./index-BA4ml571.js";const I={class:"bg-black/50 min-h-full p-6 grid place-items-center"},T={class:"p-6 w-full"},q={class:"mb-4 gap-4"},A=["value"],D={class:"my-4"},H={class:"flex gap-3 justify-between items-center w-full p-4 border-t"},O={key:0},z={key:1},G={__name:"rejectContractPayer.mdl",props:{data:{type:Object,required:!0,default:()=>({})}},setup(y){const j=y,m=C(),l=i(""),u=i(""),n=i(!1),f=i("");w(()=>{var e,t,v;const s=(e=j.data)==null?void 0:e.contractHeaderUuid;f.value=typeof s=="string"?s:((v=(t=s==null?void 0:s.uuid)==null?void 0:t.toString)==null?void 0:v.call(t))||"",console.log("Resolved contractHeaderUuid:",f.value)});const h=[{value:"PRICING_ISSUE",label:"Pricing Issue"},{value:"TERMS_UNACCEPTABLE",label:"Unacceptable Terms"},{value:"SERVICE_EXCLUSION",label:"Service Exclusion"},{value:"OTHER",label:"Other Reason"}],x=async()=>{if(!l.value){_(!1,"","Please select a reason for rejection");return}n.value=!0;try{await m.send(()=>F(f.value,l.value,u.value),()=>{m.success&&(_(!0,"Contract rejected successfully"),g())})}finally{n.value=!1}};return(s,e)=>(d(),c("div",I,[o(V,null,{default:r(()=>[o(R,{size:"md",class:"flex justify-center bg-white rounded-lg shadow-xl",title:"Reject Contract",subtitle:"Are you considering rejecting this agreement?"},{bottom:r(()=>[a("div",H,[o(p,{onClick:b(M(g),["prevent"]),class:"flex items-center border border-gray-300 text-gray-700 font-medium hover:bg-gray-50",size:"md"},{default:r(()=>e[4]||(e[4]=[B(" Cancel ")])),_:1,__:[4]},8,["onClick"]),o(p,{onClick:b(x,["prevent"]),disabled:n.value||!l.value,class:"flex items-center bg-[#DB2E48] text-white font-medium hover:bg-red-700 disabled:opacity-50",size:"md"},{default:r(()=>[n.value?(d(),c("span",O,"Processing...")):(d(),c("span",z,"Confirm Rejection"))]),_:1},8,["disabled"])])]),default:r(()=>[a("div",T,[a("div",q,[e[3]||(e[3]=a("label",{for:"rejection-reason",class:"block text-sm mb-4 font-medium text-gray-700"}," Reason for rejection * ",-1)),E(a("select",{id:"rejection-reason","onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"w-full focus-within:border focus-within:border-primary bg-[#F9F9FD] p-2 overflow-hidden text-base rounded-md min-h-9 flex"},[e[2]||(e[2]=a("option",{value:"",disabled:"",selected:""},"Select reason for rejecting contract",-1)),(d(),c(k,null,S(h,t=>a("option",{key:t.value,value:t.value},N(t.label),9,A)),64))],512),[[P,l.value]])]),a("div",D,[o(U,{id:"rejection-message",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t),label:"  Message for payer",attributes:{placeholder:"Please provide a detailed explanation for the rejection, and feel free to include specific pricing details..."}},null,8,["modelValue"])])])]),_:1})]),_:1})]))}};export{G as default};
