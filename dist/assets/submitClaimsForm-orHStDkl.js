import{_ as H,aa as L,r as o,j as W,m as X,o as E,w as U,a as t,c as A,e as n,d as s,Y as r,X as q,ab as Y,D as T,E as S,ac as j,B as Z,ad as J,s as K,P as Q}from"./index-BA4ml571.js";const _={class:"p-6 space-y-6"},ee={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},te={class:"col-span-1"},le={class:"bg-white p-5 border border-[#75778B33] rounded-lg flex flex-col items-center justify-center h-full"},ae={class:"w-56 h-52 bg-[#F6F7FA] rounded-lg flex items-center justify-center mb-4 overflow-hidden"},oe=["src"],se={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-24 w-24 text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},ie={class:"col-span-2 border border-[#75778B33] p-5 grid grid-cols-1 md:grid-cols-2 gap-4"},ne={class:"grid grid-cols-1 border border-[#75778B33] md:grid-cols-2 gap-6 p-5"},de={class:"pb-1"},re={class:"py"},ue={class:"py-1"},me={class:"flex w-full gap-2"},pe={class:"py-1"},ve={class:"border border-[#75778B33] col-span-3 w-[33%] p-5"},be={class:"flex space-x-4"},fe=["checked"],ce={class:"px-6 py-4 bg-white border-t border-gray-200 flex justify-end space-x-4 rounded-b-lg"},ge={__name:"submitClaimsForm",props:{initialData:{type:Object,default:()=>({})},isEdit:{type:Boolean,default:!1},institutionId:{type:String,required:!0},pending:{type:Boolean,default:!1},onSubmit:{type:Function,required:!0},onCancel:{type:Function,required:!0}},setup(f){var C,I;const $=L(),a=f,c=o<File|null>null,g=o(""),y=o(""),M=o(((I=(C=$.auth)==null?void 0:C.user)==null?void 0:I.payerUuid)||""),x=o(""),h=o(""),V=o(""),p=o(""),D=o(""),v=o(""),b=o("+251"),w=o(""),F=o(""),d=o("ACTIVE"),u=o(""),N=o("");W(()=>{var i;if(a.initialData&&Object.keys(a.initialData).length>0){N.value=a.initialData.payerUuid||"",g.value=a.initialData.firstName||"",y.value=a.initialData.fatherName||"",x.value=a.initialData.grandFatherName||a.initialData.grandfatherName||"",h.value=a.initialData.gender||"",V.value=a.initialData.position||"",p.value=((i=a.initialData.birthDate)==null?void 0:i.split("T")[0])||"",D.value=a.initialData.idNumber||"",w.value=a.initialData.address||"",F.value=a.initialData.email||"",d.value=a.initialData.status||"ACTIVE";const e=a.initialData.phone||"",m=["+251"].find(B=>e.startsWith(B));m?(b.value=m,v.value=e.slice(m.length)):(b.value="+251",v.value=e),a.initialData.photoUrl?u.value=a.initialData.photoUrl:a.initialData.photoBase64&&(u.value=a.initialData.photoBase64)}});function O(i){var m;const l=(m=i.target.files)==null?void 0:m[0];if(l){c.value=l;const B=new FileReader;B.onload=G=>{var k;u.value=(k=G.target)==null?void 0:k.result},B.readAsDataURL(l)}}function P(){document.getElementById("employee-photo-upload").click()}function z(){const i={firstName:g.value,payerUuid:M.value||N.value,fatherName:y.value,grandFatherName:x.value,gender:h.value,position:V.value,birthDate:p.value?`${p.value}T00:00:00.000Z`:"",idNumber:D.value,phone:`${b.value}${v.value}`,address:w.value,email:F.value,status:d.value,country:"Ethiopia",state:"Addis Ababa"};c.value&&(i.employeePhoto=c.value),u.value&&!c.value&&a.isEdit&&a.initialData.photoBase64&&(i.photoBase64=a.initialData.photoBase64),a.onSubmit(i)}const R=["Male","Female","Other"];return(i,e)=>(E(),X(Q,{id:"employee-form",class:"bg-white rounded-lg shadow-sm",onSubmit:K(z,["prevent"])},{default:U(()=>[t("div",_,[t("div",ee,[t("div",te,[t("div",le,[t("div",ae,[u.value?(E(),A("img",{key:0,src:u.value,alt:"Employee photo",class:"w-full h-full object-cover"},null,8,oe)):(E(),A("svg",se,e[13]||(e[13]=[t("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"},null,-1)])))]),t("button",{type:"button",onClick:P,class:"w-full py-3 px-5 bg-primary hover:bg-teal-800 text-white rounded flex items-center justify-center"},e[14]||(e[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})],-1),n(" Upload Photo ")])),t("input",{id:"employee-photo-upload",type:"file",accept:"image/*",class:"hidden",onChange:O},null,32)])]),t("div",ie,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[n(" First Name "),t("span",{class:"text-red-500"},"*")],-1)),s(r,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=l=>g.value=l),name:"firstName",validation:"required",attributes:{placeholder:"Enter first name"}},null,8,["modelValue"])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[n(" Father's Name "),t("span",{class:"text-red-500"},"*")],-1)),s(r,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=l=>y.value=l),name:"fatherName",validation:"required",attributes:{placeholder:"Enter father's name"}},null,8,["modelValue"])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[n(" Grandfather's Name "),t("span",{class:"text-red-500"},"*")],-1)),s(r,{modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=l=>x.value=l),name:"grandFatherName",validation:"required",attributes:{placeholder:"Enter Grand father's name"}},null,8,["modelValue"])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[n(" Role "),t("span",{class:"text-red-500"},"*")],-1)),s(r,{modelValue:V.value,"onUpdate:modelValue":e[3]||(e[3]=l=>V.value=l),name:"role",validation:"required",attributes:{placeholder:"Enter Role"}},null,8,["modelValue"])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[n(" Gender "),t("span",{class:"text-red-500"},"*")],-1)),s(q,{modelValue:h.value,"onUpdate:modelValue":e[4]||(e[4]=l=>h.value=l),name:"gender",validation:"required",options:R,attributes:{placeholder:"Select Gender"}},null,8,["modelValue"])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[n(" Date of Birth "),t("span",{class:"text-red-500"},"*")],-1)),s(r,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=l=>p.value=l),name:"dateOfBirth",type:"date",validation:"required",attributes:{placeholder:"Select Date",type:"date"}},null,8,["modelValue"])])])]),t("div",ne,[t("div",de,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[n(" Employee ID "),t("span",{class:"text-red-500"},"*")],-1)),s(r,{modelValue:D.value,"onUpdate:modelValue":e[6]||(e[6]=l=>D.value=l),name:"employeeId",validation:"required",attributes:{placeholder:"Enter employee ID"}},null,8,["modelValue"])]),t("div",re,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Address ",-1)),s(r,{modelValue:w.value,"onUpdate:modelValue":e[7]||(e[7]=l=>w.value=l),name:"address",attributes:{placeholder:"Enter address"}},null,8,["modelValue"])]),t("div",ue,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[n(" Phone Number "),t("span",{class:"text-red-500"},"*")],-1)),t("div",me,[s(q,{modelValue:b.value,"onUpdate:modelValue":e[8]||(e[8]=l=>b.value=l),name:"countryCode",options:["+251"],attributes:{required:!0}},null,8,["modelValue"]),s(r,{modelValue:v.value,"onUpdate:modelValue":e[9]||(e[9]=l=>v.value=l),name:"phoneNumber",validation:"required",attributes:{placeholder:"Enter phone number",required:!0}},null,8,["modelValue"])])]),t("div",pe,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),s(Y,{modelValue:F.value,"onUpdate:modelValue":e[10]||(e[10]=l=>F.value=l),name:"email",validation:"email",attributes:{placeholder:"Enter email"}},null,8,["modelValue"])])]),t("div",ve,[e[27]||(e[27]=t("label",{class:"[#75778B33] block text-sm font-medium text-gray-700 mb-3"}," Start insurance status as ",-1)),t("div",be,[t("label",{class:T(["inline-flex items-center p-3 rounded-md",{"text-[#02676B] bg-[#DFF1F1] ":d.value==="ACTIVE"}])},[S(t("input",{type:"radio","onUpdate:modelValue":e[11]||(e[11]=l=>d.value=l),value:"ACTIVE",class:"form-radio h-5 w-5 text-[#02676B] focus:ring-[#DFF1F1]",checked:d.value==="ACTIVE"},null,8,fe),[[j,d.value]]),e[25]||(e[25]=t("span",{class:"ml-2"},"Active",-1))],2),t("label",{class:T(["inline-flex items-center p-3 rounded-md bg-gray-50",{"bg-red-200 text-red-400":d.value==="INACTIVE"}])},[S(t("input",{type:"radio","onUpdate:modelValue":e[12]||(e[12]=l=>d.value=l),value:"INACTIVE",class:"form-radio h-5 w-5 focus:ring-[#DFF1F1]"},null,512),[[j,d.value]]),e[26]||(e[26]=t("span",{class:"ml-2"},"InActive",-1))],2)])])]),t("div",ce,[s(Z,{type:"button",onClick:a.onCancel,class:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",disabled:f.pending},{default:U(()=>e[28]||(e[28]=[n(" Cancel ")])),_:1,__:[28]},8,["onClick","disabled"]),s(J,{pending:f.pending,"btn-text":f.isEdit?"Update Employee":"Add Employee",class:"bg-[#02676B] hover:bg-[#014F4F] text-white px-6 py-3 border-[#02676B] hover:border-[#014F4F]"},null,8,["pending","btn-text"])])]),_:1}))}},xe=H(ge,[["__scopeId","data-v-c99ae851"]]);export{xe as I};
