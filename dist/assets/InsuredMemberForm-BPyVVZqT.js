import{_ as le,aa as te,r as o,a8 as M,aK as ae,aL as oe,k as H,j as ie,m as V,o as n,w as T,a as l,c as w,e as D,d as s,Y as r,aM as se,E as q,n as ne,t as $,F as de,C as ue,aN as re,X as F,ab as me,u as pe,aO as ve,D as W,ac as _,B as be,ad as ce,s as fe,P as ge}from"./index-BA4ml571.js";const ye={class:"p-6 space-y-6"},xe={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},he={class:"col-span-1"},Ve={class:"bg-white p-5 border border-[#75778B33] rounded-lg flex flex-col items-center justify-center h-full"},we={class:"w-56 h-52 bg-[#F6F7FA] rounded-lg flex items-center justify-center mb-4 overflow-hidden"},De=["src"],Fe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-24 w-24 text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},Be={class:"col-span-2 border border-[#75778B33] p-5 grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={class:"space-y-"},Ue=["disabled"],Ne={value:"",disabled:""},ke=["value"],Ee={key:0,class:"mt-2 text-sm text-red-600"},Ie={class:"grid grid-cols-1 border border-[#75778B33] md:grid-cols-2 gap-6 p-5"},Ae={class:"pb-1"},Se={class:"py-1"},Me={class:"flex w-full gap-2"},Te={class:"py-1"},qe={class:"border border-[#75778B33] p-5"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},je={class:"border border-[#75778B33] col-span-3 w-[33%] p-5"},Re={class:"flex space-x-4"},Oe=["checked"],Pe={class:"px-6 py-4 bg-white border-t border-gray-200 flex justify-end space-x-4 rounded-b-lg"},ze={__name:"InsuredMemberForm",props:{initialData:{type:Object,default:()=>({})},isEdit:{type:Boolean,default:!1},institutionId:{type:String,required:!0},pending:{type:Boolean,default:!1},onSubmit:{type:Function,required:!0},onCancel:{type:Function,required:!0}},setup(B){var z,G;const K=te(),a=B,S=o(null),C=o(""),U=o(""),j=o(((G=(z=K.auth)==null?void 0:z.user)==null?void 0:G.payerUuid)||""),N=o(""),k=o(""),X=o(""),y=o(""),E=o(""),x=o(""),h=o("+251"),f=o(""),m=o(""),d=o(""),v=o("Addis Ababa"),I=o(""),u=o("ACTIVE"),g=o(""),R=o(""),A=o(""),O=M(()=>ae(v.value)),P=M(()=>oe(d.value)),Y=M(()=>v.value==="Addis Ababa");H(v,i=>{d.value="",m.value="",f.value=""}),H(d,i=>{m.value="",f.value=""}),ie(()=>{var i;if(a.initialData&&Object.keys(a.initialData).length>0){R.value=a.initialData.payerUuid||"",A.value=a.initialData.groupUuid||"",C.value=a.initialData.firstName||"",U.value=a.initialData.fatherName||"",N.value=a.initialData.grandFatherName||a.initialData.grandfatherName||"",k.value=a.initialData.gender||"",X.value=a.initialData.position||"",y.value=((i=a.initialData.birthDate)==null?void 0:i.split("T")[0])||"",E.value=a.initialData.idNumber||"",v.value=a.initialData.state||"Addis Ababa",d.value=a.initialData.city||"",m.value=a.initialData.subcity||"",f.value=a.initialData.woreda||"",I.value=a.initialData.email||"",u.value=a.initialData.status||"ACTIVE";const e=a.initialData.phone||"",p=["+251","+1","+44","+91"].find(b=>e.startsWith(b));p?(h.value=p,x.value=e.slice(p.length)):(h.value="+251",x.value=e),a.initialData.photoUrl?g.value=a.initialData.photoUrl:a.initialData.photoBase64&&(g.value=a.initialData.photoBase64)}});function Z(i){var t,p;const e=(p=(t=i.target)==null?void 0:t.files)==null?void 0:p[0];if(e){S.value=e;const b=new FileReader;b.onload=c=>{var L;g.value=(L=c.target)==null?void 0:L.result},b.readAsDataURL(e)}}function J(){const i=document.getElementById("employee-photo-upload");i&&i.click()}function Q(){const i={firstName:C.value,payerUuid:j.value||R.value,groupUuid:A.value,fatherName:U.value,grandFatherName:N.value,gender:k.value,birthDate:y.value?`${y.value}T00:00:00.000Z`:"",idNumber:E.value,phone:`${h.value}${x.value}`,state:v.value,woreda:f.value,subcity:m.value,city:d.value,email:I.value,status:u.value,country:"Ethiopia"};S.value?i.employeePhoto=S.value:g.value&&a.isEdit&&a.initialData.photoBase64&&(i.photoBase64=a.initialData.photoBase64),a.onSubmit(i)}const ee=["Male","Female"];return(i,e)=>(n(),V(ge,{id:"employee-form",class:"bg-white rounded-lg shadow-sm",onSubmit:fe(Q,["prevent"])},{default:T(()=>[l("div",ye,[l("div",xe,[l("div",he,[l("div",Ve,[l("div",we,[g.value?(n(),w("img",{key:0,src:g.value,alt:"Employee photo",class:"w-full h-full object-cover"},null,8,De)):(n(),w("svg",Fe,e[18]||(e[18]=[l("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"},null,-1)])))]),l("button",{type:"button",onClick:J,class:"w-full py-3 px-5 bg-primary hover:bg-teal-800 text-white rounded flex items-center justify-center"},e[19]||(e[19]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})],-1),D(" Upload Photo ")])),l("input",{id:"employee-photo-upload",type:"file",accept:"image/*",class:"hidden",onChange:Z},null,32)])]),l("div",Be,[l("div",null,[e[20]||(e[20]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[D(" First Name "),l("span",{class:"text-red-500"},"*")],-1)),s(r,{modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=t=>C.value=t),name:"firstName",validation:"required",attributes:{placeholder:"Enter first name"}},null,8,["modelValue"])]),l("div",null,[e[21]||(e[21]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[D(" Father's Name "),l("span",{class:"text-red-500"},"*")],-1)),s(r,{modelValue:U.value,"onUpdate:modelValue":e[1]||(e[1]=t=>U.value=t),name:"fatherName",validation:"required",attributes:{placeholder:"Enter father's name"}},null,8,["modelValue"])]),l("div",null,[s(r,{modelValue:N.value,"onUpdate:modelValue":e[2]||(e[2]=t=>N.value=t),name:"grandFatherName",label:"Grandfather's Name",attributes:{placeholder:"Enter Grand father's name"}},null,8,["modelValue"])]),s(se,{id:j.value},{default:T(({group:t,pending:p,error:b})=>[l("div",Ce,[e[22]||(e[22]=l("label",{class:"block text-sm font-medium pb-1 text-[#75778B]"}," Select Group ",-1)),q(l("select",{"onUpdate:modelValue":e[3]||(e[3]=c=>A.value=c),name:"groupUuid",disabled:p,class:"focus-within:border focus-within:border-primary bg-[#F9F9FD] p-4 overflow-hidden text-base rounded-md min-h-9 flex w-full"},[l("option",Ne,$(t!=null&&t.length?"Select group":"No groups available"),1),(n(!0),w(de,null,ue(t,c=>(n(),w("option",{key:c.groupUuid,value:c.groupUuid},$(c.groupName),9,ke))),128))],8,Ue),[[re,A.value]]),b?(n(),w("p",Ee,$(b),1)):ne("",!0)])]),_:1},8,["id"]),l("div",null,[s(F,{modelValue:k.value,"onUpdate:modelValue":e[4]||(e[4]=t=>k.value=t),name:"gender",label:"gender",validation:"required",options:ee,attributes:{placeholder:"Select Gender"}},null,8,["modelValue"])]),l("div",null,[s(r,{modelValue:y.value,"onUpdate:modelValue":e[5]||(e[5]=t=>y.value=t),name:"dateOfBirth",type:"date",label:"Date of Birth",validation:"required",attributes:{placeholder:"Select Date",type:"date"}},null,8,["modelValue"])])])]),l("div",Ie,[l("div",Ae,[e[23]||(e[23]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[D(" Employee ID "),l("span",{class:"text-red-500"},"*")],-1)),s(r,{modelValue:E.value,"onUpdate:modelValue":e[6]||(e[6]=t=>E.value=t),name:"employeeId",validation:"required",attributes:{placeholder:"Enter employee ID"}},null,8,["modelValue"])]),l("div",Se,[e[24]||(e[24]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Phone Number ",-1)),l("div",Me,[s(F,{modelValue:h.value,"onUpdate:modelValue":e[7]||(e[7]=t=>h.value=t),name:"countryCode",options:["+251"],attributes:{class:"pr-2 my-2 bg-[#F9F9FD]",required:!0}},null,8,["modelValue"]),s(r,{modelValue:x.value,"onUpdate:modelValue":e[8]||(e[8]=t=>x.value=t),name:"phoneNumber",attributes:{placeholder:"Enter phone number",class:"pr-32 my-2 bg-[#F9F9FD]"}},null,8,["modelValue"])])]),l("div",Te,[s(me,{modelValue:I.value,"onUpdate:modelValue":e[9]||(e[9]=t=>I.value=t),name:"email",label:"email",validation:"email",attributes:{placeholder:"Enter email"}},null,8,["modelValue"])])]),l("div",qe,[e[29]||(e[29]=l("h3",{class:"text-md font-medium text-[#75778B] mb-4"},"Address Information",-1)),l("div",$e,[l("div",null,[e[25]||(e[25]=l("label",{class:"block text-sm font-medium text-[#75778B] mb-1"}," State/Region ",-1)),s(F,{modelValue:v.value,"onUpdate:modelValue":e[10]||(e[10]=t=>v.value=t),name:"state",options:pe(ve),attributes:{placeholder:"Select State/Region"}},null,8,["modelValue","options"])]),l("div",null,[e[26]||(e[26]=l("label",{class:"block text-sm font-medium text-[#75778B] mb-1"}," City ",-1)),O.value.length>0?(n(),V(F,{key:0,modelValue:d.value,"onUpdate:modelValue":e[11]||(e[11]=t=>d.value=t),name:"city",options:O.value,attributes:{placeholder:"Select City"}},null,8,["modelValue","options"])):(n(),V(r,{key:1,modelValue:d.value,"onUpdate:modelValue":e[12]||(e[12]=t=>d.value=t),name:"city",attributes:{placeholder:"Enter City"}},null,8,["modelValue"]))]),l("div",null,[e[27]||(e[27]=l("label",{class:"block text-sm font-medium text-[#75778B] mb-1"}," Sub City ",-1)),Y.value&&P.value.length>0?(n(),V(F,{key:0,modelValue:m.value,"onUpdate:modelValue":e[13]||(e[13]=t=>m.value=t),name:"subcity",options:P.value,attributes:{placeholder:"Select Sub City"}},null,8,["modelValue","options"])):(n(),V(r,{key:1,modelValue:m.value,"onUpdate:modelValue":e[14]||(e[14]=t=>m.value=t),name:"subcity",attributes:{placeholder:"Enter Sub City"}},null,8,["modelValue"]))]),l("div",null,[e[28]||(e[28]=l("label",{class:"block text-sm font-medium text-[#75778B] mb-1"}," Woreda ",-1)),s(r,{modelValue:f.value,"onUpdate:modelValue":e[15]||(e[15]=t=>f.value=t),name:"woreda",attributes:{placeholder:"Enter Woreda"}},null,8,["modelValue"])])])]),l("div",je,[e[32]||(e[32]=l("label",{class:"[#75778B33] block text-sm font-medium text-gray-700 mb-3"}," Start insurance status as ",-1)),l("div",Re,[l("label",{class:W(["inline-flex items-center p-3 rounded-md",{"text-[#02676B] bg-[#DFF1F1] ":u.value==="ACTIVE"}])},[q(l("input",{type:"radio","onUpdate:modelValue":e[16]||(e[16]=t=>u.value=t),value:"ACTIVE",class:"form-radio h-5 w-5 text-[#02676B] focus:ring-[#DFF1F1]",checked:u.value==="ACTIVE"},null,8,Oe),[[_,u.value]]),e[30]||(e[30]=l("span",{class:"ml-2"},"Active",-1))],2),l("label",{class:W(["inline-flex items-center p-3 rounded-md bg-gray-50",{"bg-red-200 text-red-400":u.value==="INACTIVE"}])},[q(l("input",{type:"radio","onUpdate:modelValue":e[17]||(e[17]=t=>u.value=t),value:"INACTIVE",class:"form-radio h-5 w-5 focus:ring-[#DFF1F1]"},null,512),[[_,u.value]]),e[31]||(e[31]=l("span",{class:"ml-2"},"InActive",-1))],2)])])]),l("div",Pe,[s(be,{type:"button",onClick:a.onCancel,class:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",disabled:B.pending},{default:T(()=>e[33]||(e[33]=[D(" Cancel ")])),_:1,__:[33]},8,["onClick","disabled"]),s(ce,{pending:B.pending,"btn-text":B.isEdit?"Update Employee":"Add Employee",class:"bg-[#02676B] hover:bg-[#014F4F] text-white px-6 py-3 border-[#02676B] hover:border-[#014F4F]"},null,8,["pending","btn-text"])])]),_:1}))}},Le=le(ze,[["__scopeId","data-v-32c45bd3"]]);export{Le as I};
